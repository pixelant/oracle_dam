<f:layout name="Default" />

<f:section name="content">
    <h1><f:translate key="module.list.title" extensionName="oracle_dam" /></h1>
    <p><f:translate key="module.list.description" extensionName="oracle_dam" /></p>

    <f:if condition="{files -> f:count()}">
        <f:render section="table" arguments="{_all}" />
    </f:if>
</f:section>

<f:section name="table">
    <f:variable name="returnUrl" value="{f:be.uri(route:'file_oracleDamAssetList', parameters: '{action: \'list\'}')}" />
    <div class="table-fit">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th><f:translate key="module.list.filename" extensionName="oracle_dam"/></th>
                    <th><f:translate key="module.list.file_updated" extensionName="oracle_dam"/></th>
                    <th><f:translate key="module.list.metadata_updated" extensionName="oracle_dam"/></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <f:for each="{files}" as="file">
                    <tr>
                        <td>
                            <be:link.editRecord
                                returnUrl="{returnUrl}"
                                table="sys_file"
                                uid="{file.uid}"
                                title="{f:translate(key: 'module.list.edit', extensionName: 'qbank_dam')}: {file.name} [{file.uid}, {file.tx_oracledam_id}]"
                            >
                                {file.name}
                            </be:link.editRecord>
                        </td>
                    </tr>
                </f:for>
            </tbody>
        </table>
    </div>
</f:section>
